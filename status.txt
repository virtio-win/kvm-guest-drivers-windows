Date    22 Apr 2020
tag     mm201

Fixed bugs:

BZ#1821560: [viostor] driver does not return correct serial number length.

New Features:

[vioscsi] introduce the registry key to make munber of physical breakes adjustable

Date    19 Feb 2020
tag     mm200

Fixed bugs:

BZ#1802452: [vioscsi] WMI facility check virito-scsi num_queues failed

Date    12 Feb 2020
tag     mm199

Fixed bugs:

BZ#1794609: [vioserial] Fix error flow on Write request
BZ#1553633: [balloon] process the ISR status at startup
    
Date    22 jan 2020
tag     mm198

Fixed bugs:

BZ#1791147: [vioscsi]: BSOD when running Bus Reset Test
BZ#1791153: [netkvm]: avoid crash on second virtqueue shutdown
    
Date    10 Jan 2010
tag     mm197

New Features:
Remove WinXP. WNET and Win7 from the list of build targets since we have no vailed SHA-1 certificate anymore.

Date    9 Jan 2020
tag     mm196

Fixed bugs:

BZ 1787022: [vioscsi] Windows virtio-scsi driver performs poorly when reading/writing big data blocks.
BZ 1788042: [balloon] synchronize ReleaseHardware with EvtFileClose
    
New Features:
Packed ring support. 

Date    19 Dec 2019
tag     mm195

Fixed bugs:

BZ 1783906: [virtio-wdf]  
    VirtIOWdfDeviceFreeDmaMemoryByTag can be called when the device
    failed the initialization of Wdf DMA API. Do not do anything
    in such case.

BZ 1783953: [virtio-wdf]
    Wrong KMDF version during library compilation causes
    failure in initialization of DMA enabler.

BZ 1783880: [vioserial}]
    Wrong command length causes loss of functionality of x86 driver.


Date    12 Dec 2019
tag     mm194

Fixed bugs:

BZ 1745818: [netkvm] Remove TestOnly.RXThrottle parameter from INF

New Features:

Added code for IOMMU support



Date    07 Jun 2019
tag     mm192

Fixed bugs:

BZ 1672541: [virtio-win] No need for appveyor yaml for the project

New Features:

netkvm: Increase timeout of control command completion
viostor: add preliminary support for discard (unmap) command
vioinput: Fix mistakes in commit 4c9942754912
netkvm: RSC support according to virtio spec

Date    12 Apr 2019
tag     mm191

Fixed bugs:

BZ 1691209: [virtio-win] SDV/DVL related fixes


Date    10 Apr 2019

Back to upstream track

Fixed bugs:

BZ 1691209: [viostor][vioscsi] SDV/DVL related fixes


Date    5 Mar 2019

Bugs:

BZ 1666940: [netkvm] Fix functionality with single MSIX vector
BZ 1549577: [virtio-wdf] Check physical memory allocation in virtio library for NULL
BZ 546821: [Balloon] device hot-unplug fails when service is running

Date    10 Dec 2018

Bugs:

Bz 1428641: [viostor] Windows guest physical block size change to 512 after installation with the size 4096
BZ 1633087: [viostor] experimental fix - incorrect virtio-win driver version shown in sigverif log file

New Features:
netkvm: add project directory to include path
netkvm: return queued TX packets on hot unplug
netkvm: split code of DoPendingTasks to allow code reuse
netkvm: introduce 'kill' flow of TX queue
netkvm: split ReleaseTransmitBuffers code to allow code reuse
viostor: add placeholder for VPD_BLOCK_LIMITS (0xB0) VPD page reporting


Date    18 Oct 2018
tag     mm182

Bugs:

BZ 1546821: [balloon] use universal api in window 10 build

New Features:
viostor: handle VERIFY(16) requests properly
netkvm: set proper checksum info when indicating coalesced packets
netkvm: fix support for speed/duplex configuration
netkvm: Calculate number of coalesced segments correctly
NetKVM: Implement VIRTIO_CONFIG_S_NEEDS_RESET as needed by spec


Date    02 Aug 2018

Bugs:

BZ 1609228: [vioscsi] Fix for  guest can not generate dump file regression


Date    29 Jul 2018

Bugs:

BZ 1599631: [NetKVM] Revert "NetKVM: Set AffinityPolicy to IrqPolicySpecifiedProcessors"
    

Date    25 Jul 2018

Bugs:

BZ 1607275: [viostor] win2008 viostor driver loading failed during guest installation when -smp>2


Date    11 Jul 2018

New Features:

viostor always report SCSI_ADSENSE_NO_SENSE as ascq on write-protected media'

Date    04 Jul 2018

Bugs:
BZ#1577708: NetKVM Fix E2EPerf WHQL test failure

Date    03 Jul 2018

New Features:

viostor: rework SRB_FUNCTION_PNP handler to report device as removable
NetKVM:  PathBundle: Don't call destructor for RX/TX
NetKVM:  Observee: Make list countable
vioscsi: Fix bug in vq notification path

Date    12 Jun 2018

Bugs:
BZ 1569329: [virtio-win] copyright show 2017 in all inf, sys, license files

WPP for virtio-scsi and virtio-blk evice drivers
NetKVM: TX: Drop heavy DPC scheduling
viostor fix bsod when only one vq is active (BZ#1566298 comment#24)


Date    25 May 2018

Bugs:
BZ 1566298: [viostor] unattended installation failure on unpartitioned image when using virtio_blk

New Features:

NetKVM: Fixing behaviour when VIRTIO_NET_F_STATUS is off
viostor: move sgl to SRB extension
viostor: redesign vq lock/unlock routines
NetKVM: Log interrupt vector to CPU mapping
NetKVM: Set AffinityPolicy to IrqPolicySpecifiedProcessors
NetKVM: Correctly assign vecotrs to CPUs


Date    26 Apr 2018


BZ 1568739: [vioscsi] Fix for Bug 1568739 - Win7/win2008 guest BSOD after the first
    reboot when installing os with virtio_scsi

Date    17 Apr 2018

Bugs:
BZ 1539256: [vioscsi] to support ACK of VIRTIO_F_IOMMU_PLATFORM
BZ 1530210: [viostor] to support ACK of VIRTIO_F_IOMMU_PLATFORM
BZ 1549587: [NetKVM] to support ACK of VIRTIO_F_IOMMU_PLATFORM
BZ 1549577: [virtiovib] Add VIRTIO_F_IOMMU_PLATFORM feature bit definition


New Features:

WPP for viorng, balloon, input, and serial.
Storage Request Block SRB type for viostor.
Increasing the size of queue depth for vioscsi.

Date    20 Mar 2018

Bugs:

BZ 1551918: [viorng] Lack of viorng* files in virtio-win-prewhql-0.1-148

Date    06 Mar 2018

Bugs:

BZ 1549455: [viostor] Event ID: 158 is logged on Win10/WS2016 when two or more virtio-blk disks attached to VM
BZ 1537430: [NetKvm] Import LinkSpeed/Duplex configs from the hypervisor
BZ 1351089: [NetKvm] Don't set MAC address using configuration space in virtio 1.0 device

New Features:
All drivers for Windows 10 will be built for "Universal" target platform

Date    04 Dec 2017

Revert

Virtio: Use Publish indices according to spec
VirtioRing: Don't enable event suppression by default


Date    03 Dec 2017

Fixed bugs:
BZ 1168064: [viostor]Resuming guest from S4 with 'readonly = on' within CLI will induce improper results.
BZ 1518095: [viostor] Online enlarging data image size does not work properly 

New Features:

vioscsi: partial implementation of MS_SM_PortInformationMethods class methods
vioserial: Send VIRTIO_CONSOLE_PORT_OPEN (0) on port D0 exit
NetKVM: Fix TX OID_GEN_TRANSMIT_QUEUE_LENGTH stats reported to Windows
Virtio: Use Publish indices according to spec
VirtioRing: Don't enable event suppression by default
NetKVM: Use NdisGetSharedDataAlignment to align miniport's adapter con

Date    14 Nov 2017

Fixed bugs:
BZ 1480139: [virtio-win] Switch to BSD license

New Features:

VirtIO: Change vp_notify debug print to a higher level
NetKVM: Handle case where we have 2 msi vectors
NetKVM: Use correct function name in debug print
NetKVM: Remove unused DPrintf parameter
balloon: Add missing spin lock release to error path
balloon: Don't call virtqueue_notify while holding queue locks
serial: change timeout for KeDelayExecutionThread
serial: Replace KeStallExecutionProcessor with KeDelayExecutionThread
serial: remove unused variable
NetKVM: TX: Kick ring when full
serial: remove RETRY_THRESHOLD limit from c_ovq poll loop
viostor/vioscsi: Changes to keep "Static Driver Verification" (SDV) happy.
Net-KVM: Fix a typo in the configuration entry settings
Net-KVM: Fix a typo
balloon: Don't create invalid VARIANTs
vioscsi: Eliminate MSI_SUPPORTED
vioscsi: Eliminate INDIRECT_SUPPORTED
viostor: Eliminate INDIRECT_SUPPORTED


Date    10 Aug 2017

New Features:
Switch to BSD license

Date    20 Jul 2017

Fixed bugs:

BZ 1458626: [NetKVM] Send clone of original announcement NBL
    

Date    04 Jul 2017

Fixed bugs:

BZ 1451978: [NetKVM] latest virtio driver (network) for Windows drops lots of packets 


Date    01 Jun 2017

Fixed bugs:

BZ 1456403: [NetKVM] Implement MTU report feature of the virtio-net device
BZ 1455488: [vioser][ovmf] Guest occured BSOD when hotunplug virtio-serial-pci.


Date    22 May 2017

Fixed bugs:

BZ 1393772: [smbus] Add null driver for SM Bus Controller

Date    10 May 2017

Fixed bugs:

BZ 1443019: [pciserial] Add a pci-serial (1x only) .inf for RHEL
BZ 1438410: [NetKVM]    Add VlanId property to no_RSS and no_RSC Inf files

Date    30 Apr 2017

Fixed bugs:

BZ 1369353: [balloon] backport available memory stat support. Trying to mimic what si_mem_available 
            does in Linux. AvailPhys is the sum of memory in free, zero and standby list.CacheBytes 
            is the current size of the system file cache.
BZ 1442322: [viostor] Cannot enlarge/shrink disk with virtio-blk-pci device.
BZ 1438410: [NetKVM] Add VlanId property to Inf file


Date    27 Mar 2017

Fixed bugs:
BZ 1419900: [vioser] BSOD of vioser.sys on Win10 in S0->S4->S0 flow

Date    14 Mar 2017

Fixed bugs:

BZ 1429807: [netkvm] guests bsod(d1) when running job "NDISTest 6.0 - [1 Machine] - 1c_FaultHandling"


Date    26 Feb 2017

Fixed bugs:

BZ 1303510: [virtio-win] Change the copyright on all the Windows drivers to "2017" in virtio-win-prewhql build

New Features:

NetKVM: Implement VIRTIO_NET_F_GUEST_ANNOUNCE feature
NetKVM: Make miniportShutdown return immediately on "NdisShutdownBugCheck"


Date    12 Feb 2017
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm152

Fixed bugs:

BZ 1369353: [balloon] backport available memory stat support
BZ 1419785: [balloon] Guest WIN8-32 occured BSOD in job "DF - PNP Stop (Rebalance) Device Test (Certification)"

New Features:
pvpanic: Add IOCTL_GET_CRASH_DUMP_HEADER
vioinput: Use viohidkmdf.sys instead of mshidkmdf.sys


Date    29 Jan 2017
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm151

Fixed bugs:
BZ 1403550: [viostor] Add multi-queue support 

New Features:

viostor: WinXP related code has been removed.


Date    15 Jan 2017
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm150

Fixed bugs:
BZ 1395790: [vioscsi] BSOD when adding CPU to live Windows Server 2012R2 guest
BZ 1410964: [viostor] 4K virtual drives broken on Windows

New Features:

NetKVM: Fix 1c_IOCTLCoverage test failure
NetKVM: Fix RX kick timing
vioscsi: Fix verifier and debug spew due to worker exiting with affinity set. By default the workers have no affinity. We set it to the specific cpu, but KeSetSystemAffinityThreadEx returns 0, as there was no affinity. You still have to KeSetSystemAffinityThreadEx before you exit and reset it back to 0.
balloon: Fix completion-cancellation races
netkvm: Optimize checksum routine on 64-bit


Date    15 Dec 2016
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm149

New Features:

NetKVM Return correct info for OID_TCP_OFFLOAD_PARAMETERS
Balloon: Fix blnsvr race conditions
NetKvm: Support WMI commands
NetKvm: Use fewer virtio receive SG descriptors
NetKvm: Fix race of changing of RSS parameters and TX
virtiolib: Fix uninitialized variable in VirtIOWdfFinalizeFeatures


Date    02 Nov 2016
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm148

Fixed bugs:
BZ 1389445: [virtiolib] VirtIO definition of bool as int used by all drivers
            that use VirtIO library, except (currently) netkvm which is C++
            and uses bool as fundamental C++ type.
BZ 1389125: [viostor] - extend viostor driver with STORAGE_REQUEST_BLOCK support

New Features:
NetKVM performance optimization
fwcfg: Rename driver files fwcfg -> qemufwcfg

Date    25 Oct 2016
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm147

New Features:
New build system

Date    10 Aug 2016
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm146

New Features:
NetKVM fix SDV problems
Debug targets

Date    04 Aug 2016
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm145

Fixed bugs:

BZ 1361501: [Balloon] fix "vcruntime120.dll is missing"
BZ 1359626: [NetKVM] RSC and RSS parameters should be set according to OS version


Date    29 Jul 2016
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm144

Fixed bugs:
BZ 1356363: [viorng] cannot install viorng driver on win2008-32/64 (build 122)
BZ 1352432: [vioscsi] Win2012-64&R2 guest occurred bsod(d1) when whql test DPWLK- Hot-Replace - Device Test 
            - Verify driver support for D3 power state
BZ 1358125: [viostor] Virtio 1.0 driver didn't work on win10 with q35 machine type

Date    25 Jul 2016
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm143

Fixed bugs:

BZ 1349724: [viostor] fix bus reset. related to Bug 1349724 - [virtio-win][viostor][whql] 
            cannot pass whql test Bus Reset Test on win2008R2
BZ 1246993: [virtio-win]  add Server10 to the Windows version list. fix for Bug 1246993
BZ 1356422: [virtiolib] fix 'code integrity checks' verifier crash

New Features:
Enable RSC in INF file
Enable dynamic RSC offload based on QEMU implementation
Use new RSC information fields in virtio_net_hdr_v1
Add RSC related definitions based on virtio 1.0 spec to virtio_net.h


Date    12 Jul 2016
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm142

Fixed bugs:

BZ 1352517: fix bsod on several pnp whql tests (again).
BZ 1352809: [viorng] wrong dervier version for virtio-win-prewhql-121
BZ 1352432: [vioscsi] Win2012-64&R2 guest occurred bsod(d1) when whql test DPWLK- Hot-Replace
BZ 1234741: [vioscsi] win2012 guest bsod(c9) when whql test DPWLK-HotAdd(1104) job

Date    28 Jun 2016
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm141


Date    22 Jun 2016
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm140

Adding missed bits after sync with Win10 branch.

Date    21 Jun 2016
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm139

New Features:
Sync with Win10 branch

Date    30 May 2016
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm138

Fixed bugs:
BZ 1293249: [Balloon] Fix IOCTL_GET_INFORMATION regression

New Features:
Enable RSC
Fix IPv6 offload support with SLIRP
Fix MPE HCK test problems

Date    08 Apr 2016
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm137

Fixed bugs:
BZ 1321903 [vioscsi]:  Windows 10 Installer stuck at Getting files ready for installation with Virtio SCSI

New Features:
Trying out the new build system.

Date    18 Feb 2016
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm135

New Features:
vioserial - code rework and cleanup
general - switching signing back to SHA-1

Date    04 Feb 2016
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm133

Fixed bugs:


BZ 1303510: [virtio-win] Change the copyright on all the Windows drivers to "2016" in virtio-win-prewhql build
BZ 1122364: [vioserial] Complete pending write request on port removal
BZ 1296099: [vioserial] Fix race in read cancellation logic
BZ 1293249: [vioserial] Fix IOCTL_GET_INFORMATION,


New Features:
vioserial - add simple benchmarking tool
balloon - fix memory statistics reporting

Date    15 Dec 2015
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm132

Fixed bugs:

BZ 1284769: [viostor] Windows XP installer stucks installing with virtio-drivers
BZ 1245957: [viostor] [WHQL][viostor][data-plane]it could not generate dump file on WIN2008-32/64 via WLK while running Crash Dump job
BZ 1289406: [vioser] Cannot install vioser driver successfully


New features:
Redesigned lock and unlock routines for vioscsi device driver.

Date    18 Nov 2015
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm131

Fixed bugs:


BZ 1013336: NetKVM: BSoD occurs when running NDISTest6.5 -[2 Machine] - MPE_Ethernet job on windows 2012 (Win10)
BZ 1273791: NetKVM: Do not touch control queue before status VIRTIO_CONFIG_S_DRIVER_OK is raised
BZ 1270149: NetKVM: Check guest network link status of virtio nic with status=on failed (build 110)
BZ 1263193: NetKVM: BSoD occurs when boot the win2012R2 guest with "-smp 64"(netkvm driver installed)
BZ 1256626: NetKVM: windows guest(win7/win10) CTRL_VLAN=on/off does not support for virtio-net-pci

New features:

Some changes toward virtio 1.0 support.
Redesigned cpu to vq mapping mechanism for vioscsi device driver.
Added support for STORAGE_REQUEST_BLOCK handling for vioscsi device driver.

Date    10 Aug 2015
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm129

Fixed bugs:

Bz 1250854 [vioscsi]The job named crash dump failed on windows 2008 -32/64 platform

Date    01 Aug 2015
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm128

Fixed bugs:


BZ 1183423#c10 Change the copyright on all the Windows drivers to "2015" in virtio-win-prewhql build
BZ 1248977 - [virtio-win][vioscsi] Cannot install vioscsi driver on win7-32&win2008-32 with build107


Date    30 Jul 2015
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm127

Fixed bugs:

BZ 1234751 [virtio-win][vioscsi]win2012R2 guest bsod(d1) when whql test DPWLK-HotAdd(1104) job
BZ 1234741 [virtio-win][vioscsi]win2012 guest bsod(c9) when whql test DPWLK-HotAdd(1104) job
BZ 1234507 vioserial crash due to completing a cancellable request


Date    21 Jul 2015
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm126

Fixed bugs:

BZ 1237024  NetKVM Fix payload length calculation in IPv6 header
BZ 1183423  Change the copyright on all the Windows drivers to "2015" in virtio-win-prewhql build
BZ 1243229  [virtio-win][scsi][windows 10]win10 and win2016 guests bsod with D1 when run job "Bus Reset Test"
BZ 1217799  Distribute *.oem, LICENSE, COPYING in -prewhql build
BZ 1228967  [virtio-win][whql][viostor]job "Flush Test" failed on all guests with build 105


Date    03 Jun 2015
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm125

Fixed bugs:

BZ 1223426 NetKVM Fix for performance degradation with multi-queue
BZ 1227164 viostor/vioscsi is not digital signed by Redhat


Date    24 May 2015
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm124

Fixed bugs:

BZ 1214568 vioscsi Add WMI facility to check the virito-scsi mq enabled
BZ 1172920 vioser  bsod on shutdown after device was unplugged
BZ 954183  NetKVM  Clean-up SDV run results during clean.bat execution
BZ 1067249 balloon device can't be removed when service is running
BZ 1190960 NetKVM  [mq]job failed due to "Received some net buffer lists out of order" w/ 4 queues
BZ 1067225 viostor Windows guest performing out-of-bounds accesses on virtio device
BZ 1195487 viostor Windows guest performing out-of-bounds accesses on virtio device

New features:
Fixed VS2015 compilation warnings.

Date    12 Apr 2015
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm123

Fixed bugs:

BZ 1210166 vioscsi - Add multiqueue support to Windows virtio-scsi driver.
BZ 996479  pvpanic - RFE:pvpanic driver for windows guest
BZ 954183  NetKVM - Static driver verifier fails with NetKVM
BZ 1190960 NetKVM - job failed due to "Received some net buffer lists out of order" w/ 4 queues 
BZ 1190968 NetKVM - job "NDISTest 6.0 - [1 Machine] - 1c_Mini6RSSOids" last for hours and never stop w/ 4 queues


Date    10 March 2015
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm122

Fixed bugs:

BZ 1195920 virtio-scsi - Windows 2012 R2 using virtio-scsi driver with Direct LUNs causes BSODs
BZ 1183423 NetKVM - Change the copyright on all the Windows drivers to 2015. Missed part
BZ 954183  NetKVM - Static driver verifier fails with NetKVM


Date    2 March 2015
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm121

Fixed bugs:

BZ 1188790 NetKVM: Freeing SG list on detaching internal object: it is illegal to free SG list after TX packets acknowledgment
BZ 1136602 NetKVM: Free spinlocks on failure
BZ 1183423 [common] - Change the copyright on all the Windows drivers to 2015
BZ 1184430 [viostor] - enable event index feature in Windows virtio-blk driver
BZ 1067225 [viostor] - Windows guest performing out-of-bounds accesses on virtio device

New Features:

Add a test wrapper for iperf

Date    13 Jan 2015
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm120

Fixed bugs:

BZ 1147239: NetKVM NetKVM with 2012R2 fails the HCK tests

Date    08 Jan 2015
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm119

Fixed bugs:

BZ 1142737: interface status is '2', but expect status is '7' after set_link NIC off
BZ 1177063: Balloon fixed bsod on s3/s4 when service was running.
BZ 1159754: Nic device doesn't work when guest is running in IRQ mode 
BZ 1067249: Balloon fix a regression caused by f542c3f1.

BZ 1154419: NetKVM NetKVM fails HCK test for 2008R2, single CPU
BZ 1169718: NetKVM Checking the length only on read

BZ 1173323: NetKVM iperf stalls the NetKVM driver
BZ 1154420: NetKVM ParaNdis6_SendNetBufferList
BZ 1147239: NetKVM NetKVM with 2012R2 fails the HCK tests

Date    04 Dec 2014
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm116

Fixed bugs:

BZ 1168483 NetKVM: Setting minimal MTU value to 576
BZ 1167231: balloon: stop service on shutdown notification.
BZ 1158013: RNG: fix device's hardware id

Date    01 Dec 2014
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm115

Fixed bugs:

BZ 1151912: RNG fix whql failure due to registeration error.
BZ 1154419: NetKVM  Memory corruption in RSS->queue mapping.

RNG: replaced message box with setup api logging.
NetKvmCo: fix setting string registry keys.

Date    19 Nov 2014
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm114

Fixed bugs:

BZ 1156259: Win7-64 guest BSOD(0x000000A0) when doing s4 


Date    30 Sep 2014
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm113

Fixed bugs:

BZ 1123288: NetKvm Freeing shared memory on control queue destruction
BZ 1091867: RNG fix 64-bit coinstaller build.

Date    17 Sep 2014
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm112

Fixed bugs:

BZ 1139509: ALL Should use Uniformed string in Manufacturer fields on all drivers
BZ 1136606: NetKVM testing MessageInfoTable for nullness in debug printout
BZ 1119966: NetKVM Unconditionally initialize RSSParameters lock
BZ 1096505: NETKVM disabling warning for KeBugCheck for debug build
BZ 1091867: RNG initial import of the viorng coinstaller.


Date    02 Sep 2014
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm111

Fixed bugs:

BZ 1136023: NetKVM fix for do { } while(0) in macro under Visual C++
BZ 1096505: NetKVM Implement multiqueue support in Windows guest driver
BZ 954183:  NetKVM SAL annotations

Date    25 Aug 2014
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm110

Fixed bugs:

BZ 1130853: Balloon fix bsod on several pnp whql tests.
BZ 1121933: Balloon NetKvm check for VIRTIO_F_ANY_LAYOUT feature before using optim
BZ 1113910: fix bsod when hotplug device in a loop (w/ verifier).
BZ 922014: pcoserial Add build procedure for pciserial INF.


Date    4 Aug 2014
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm109

pull from https://github.com/iuliur/kvm-guest-drivers-windows/commits/master


Date    29 Jul 2014
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm108

Fixed bugs:

BZ 1066808: balloon fix old stats rema
BZ 1081436: viorng  fix bsod after resuming
BZ 1116573: viorng  use wdf 1.9 for old
BZ  950611: NetKvm  Disable RSC until host suppor


Date    08 Jul 2014
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm107

Fixed bugs:

BZ 1096505: NetKVM Cosmetic fixs - tab removed with spaces
BZ 1112712: NetKVM Initialize CVirtQueue first before making internal calculati
BZ 1051886: NetKVM  Fix linker options for Vista\Windows Server 2008.
BZ 1109027: NetKVM  Fix empty friendly name if only one adapter is present
BZ 1082999: Balloon add device events handling.

New Features:

new inverted-call write-to-device method.

Date    04 Jun 2014
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm106

Fixed bugs:

BZ 1103100 - Fix WDK library linkage with Windows Vista\Windows Server 2008 build.

Date    28 May 2014
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm105

Fixed bugs:

Bug 1096505 [netkvm] packet submission refactoring
Bug 1100308 [netkvm] Fixing DPC suspend flag race condition
Bug 1054640 [netkvm] On cotext destruction, return to the unused queue buffers,
                     retained in per-processor queue but not submitted to the upper layer


Date    26 May 2014
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm104

Fixed bugs:

BZ 1098876 - post build step is failing and INF is not built correctly


Date    13 May 2014
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm103

Fixed bugs:

BZ 1096505 [netkvm] Separate transmit path data from device context
BZ 895834  [netkvm] Create netkvm.dvl.xml log as part of the build process

New features:
NetKvm multi queue.

Date    5 May 2014
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm102

Fixed bugs:

Bug 1090832  [viorng] fix the wdfcoinstaller file name.
Bug 837324   [viostor] viostor reports support for FUA, but does not implement it.

New features:
Switch to VS2013 build system.

Date    29 Apr 2014
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm101

Fixed bugs:

Bug 1092348 viorng fix no viorngum.dll in amd64 folder.
Bug 1080320 balloon: memory stats remains after service was closed.


Date    23 Apr 2014
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm100

Fixed bugs:

Bug 1077566 [vioscsi] enable MSI as a default interrupt mode for virtio-scsi.
Bug 1080319 [balloon] win8.1-32 could use 3G memory in one guest but stat-total-memory only shows 2G

Fixed in build script:
Bug 1083805 [virtio-win][virtio-rng]WDFCoinstaller01001.dll is redhat signed

New features:

Disable RSC for the release build.

Date    9 Apr 2014
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm99

Fixed bugs:

Bug 1080320: balloon. fix bsod which occurred on various scenarios.
Bug 1083810: virtio-rng. output directory for 64-bit builds goes to amd64.
Bug 1080731: virtio-rng. fix a provider registration error.
Bug 1083873: NetKvm  BSOD due to access to uninitialized control queue during power down 
             event on Windows XP and Windows Server 2003.

Date    2 Apr 2014
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm98

New features:

right rng build scripts from Gal.

Date    1 Apr 2014
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm97

Fixed bugs:

Bug 868240 fix hck warnings on driver inf test
Bug 1079929 rng: fix a failed "df - fuzz misc api" whql test.

Date    23 Mar 2014
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm96

New features:

Add virtio-rng to build.

Date    17 Mar 2014
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm95

Fixed bugs:

Bug 954183 Suppress false-positive SDV warning
Bug 954183 Tools: Added SDVTOOL script.
Bug 888694 serial: related to bz#888694: qga fails after resume from s3.
Bug 868240 serial & balloon fix hck warnings on driver inf test
Bug 921891 balloon improve ballooning's performance.
Bug 954183 NetKvm Driver pass static code analysis tools. Using out parameter 
           of the function without testing the retur

Date    16 Oct 2013
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm93

Fixed bugs:

Bug 1017529 - BSOD occurs when do I/O test on virtio
    scsi driver.
Bug 908610 - change "VirtIO SCSI Disk Device winxp/32-bit"
    to "VirtIO BLOCK Disk Device Winxp/32-bit" in txtsetup.oem
Bug 1013443 - Win7-64 guest installation with virtio-scsi BSOD

New features:
Move pciserial.inf to a separate directory while building drivers

Date    26 Sep 2013
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm92

Fixed bugs:

Bug 1012200 PM_PowerStateTransition fails on Win8

Date    24 Sep 2013
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm91

Fixed bugs:

Bug 1003442 - 2c_receivepackets on win2k8 fixed
Bug 990007  - Include the .inf file to downloadable place
    for windows guest to accept the pci serial device
Bug 1010687 - 2c_recvmulticast failed on WLK
Bug 926947  - online resizing doesn't work on system virtio-blk disk
Bug 927619  - BLNSVR service stops with event 7016 : the balloonservice
    has reported an invalid current state 0
Bug 994377  - virtio-win-prewhql-66 scsi driver could not be installed on all platform


Date    8 Sep 2013
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm89

Fixed bugs:

Bug 1003158 - vioscsi.sys doesn't return scsi status codes correctly to guest OS
Bug 1001981 - [virito-win][scsi]Remove scsi support for win2k3
Bug 1000158 - blnsrv.exe is pegged at 100% cpu in windows guests
Bug 908610 - [virtio-win][vfd] change "VirtIO SCSI Disk Device winxp/32-bit" to "VirtIO BL
Bug 1001616 - win7-64 guest bsod while enter s3/s4 state with virtio scsi
Bug 1002073 - Disable RSC support in the driver


Date    27 Aug 2013
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm88

Fixed bugs:

Bz#957328 add/del device failed if guest was reading from port.
Bz#996983 - Windows NT 6.x BSOD with virtio SCSI driver  since version 0.1.59


Date    12 Aug 2013
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm87

Fixed bugs:

BZ#988302 fixing calling conventions and project definitions for 32bit OSes in 
BZ#993614 Windows 8 32 bit crashes during HCK MPE test (BSOD D1)
BZ#858687 add a spin lock to the control queue.

Date    30 Jul 2013
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm86

Fixed bugs:

BZ#889941 - [virtio-win][scsi] virtio_scsi driver performs bad during large buffers transfer
BZ#950611 Guest offloads configuration via control queue
BZ#978296 Incorrect link state indications in PM_PowerStateTransition
BZ#982940 - Remove old hack for 1G adapter that internaly keeps the speed as 1001

New Features:
MSI interrupts support for viocsi.

Date    19 Jun 2013
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm85

Fixed bugs:

BZ#972310 - in case if the interrupt and the device was not initiali

Date    3 Jun 2013
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm84

Fixed bugs:

BZ#967698 make sure the interrupts are disabled before cleaning up internal virtio structures
bz#966809 Fix BSOD after resuming from hibernation.
bz#951481 Implement an DeviceD0Entry callback.

Date    27 May 2013
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm83

Fixed bugs:

BZ#958737 NDISTest 6.5 - E2EPerf job(1110) failed on win 2012 due to performance issue

Date    21 May 2013
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm82

Fixed bugs:

bz#953812 add a cancel support to write requests.


Date    13 May 2013
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm81

Fixed bugs:

BZ#956882 Crash in OID_GEN_NETWORK_LAYER_ADDRESSES handler - NDIS6
BZ#958755 BZ#958751 Broken RX statistics fixed
BZ#958715 RSS\RSC related failures in NDISTest6.5-Standardizedkeywords - RSS fixes
BZ#950633 Checksum verification fixed
BZ#912926 BSOD on Sleep and PNP test in NDIS5 drivers
BZ #889410 - TestOnly.UseSwTxChecksum parameter is removed
BZ#956290 Race condition on surprise removal in XP/2003 driver
BZ#957505 QEMU assertion on exit from S4 fixed
BZ#957507 Crash on unload when control queue... 


Date    17 Apr 2013
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm79

Fixed bugs:

Bz#927577 Job named Device Driver INF Verification Test. Second attempt
Bz#823818 rewrote the driver's write function.
Bz#902150 driver was unusable after sleep/suspend.
BZ#950623 - Remove DPCChecker and related parameter from INF. Very old code testing for pending interrupt in case of hanged transfer. Not 	only it is not relevant for newer OSes (MSI is used), but also if such case even exist - it should be fixed in QEMU.
BZ#950617 Enable RSS for Windows 2008 R2 as well
BZ#950509 - remote kdebugprint.h file from the project.
BZ#951020 - Do not check VIRTIO_PCI_ISR when not needed.
BZ#951070 - Fix debug printouts
Bz#823818 - resend write request using a work item.
BZ#951070 - Fix debug printouts
Bz#946992 - [vrtio-win][virtio-scsi]update win8.64 guest's driver with virtio-win-prewhql-0.1-58 caused guest BSOD
BZ#904934 - Configure MAC via control queue - refactoring


Date    31 Mar 2013
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm78

Fixed bugs:

    BZ#927577 - [WHQL][serial]Job named Device Driver INF
    Verification Test (Certification) failed on win8/win2k3/win2k8/ platform
    BZ#922530 - code separation for NDIS5 and NDIS 6.x:
    adjust NetKCM.yaml to point to correct build log for NDIS5.1


Date    18 Mar 2013
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm77

Fixed bugs:
[NetKVM] BZ#904808 Initlal RSC implementation


Date    18 Mar 2013
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm76

Fixed bugs:
[NetKVM] BZ#922530 Code split for NDIS5 and NDIS6
NetKVM] BZ#921200 - Do not write to VIRTIO_PCI_ISR for
    debug purposes in production code.

[virtio-serial] BZ#806223: Fixed a bsod when changing state to s3.
[netkvm/vioserial/viostor/vioscsi] BZ#908725 - virtio win inf does
    not s

Date    12 Mar 2013
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm75

Fixed bugs:

[virtio-serial] BZ#806223: Fixed a bsod when changing state to s3.
[netkvm/vioserial/viostor/vioscsi] BZ#908725 - virtio win inf does
    not specify revision ID,

New features:
[NetKVM] RSS implemented


Date    6 Feb 2013
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm74

Fixed bugs:

[NetKVM] BZ#904028 - Fixing casting error with event indices calculation.
[NetKVM] BZ#907160 - Do not test IOSpace size.

Date    31 Jan 2013
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm73

Fixed bugs:

BZ #902150 - Fix guest failure to add port after resume from s3/s4.
BZ #904028 - Windows 2012 got BSOD while running job 1091NDISTest 6.0 - [1 Machine] - 1c_Mini6Send on HCK.

Date    16 Jan 2013
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm71

Fixed bugs:

BZ #759019 - Fix vring_detach_unused_buf function.
BZ #833671 - Fixed memory leaks on device's surprise removal.

also [balloon/vioserial]fix inf version for Win8.

Date    8 Jan 2013
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm70

Fixed bugs:

BZ #713130 - further optimization
BZ #8823795 BSOD occurs during transferring data from guest to host
    during S3/S4.
BZ #883913 - read link status on driver startup.
BZ #878442 - Interrupt handlers refactored, Interrupt timestamping made debug only feature

Date    29 Nov 2012
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm69

Fixed bugs:

BZ 878291 - fixed a whql test failed in "support for D3 power state"

Date    27 Nov 2012
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm67

Fixed bugs:

BZ 840911 - don't send VIRTIO_CONSOLE_PORT_OPEN
    control message from VIOSerialShutdownAllPorts.
BZ 879143 - [whql][wlk][scsi] scsi driver for win2k3 does not support s4

Date    21 Nov 2012
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm66

Fixed bugs:

BZ 826596 - RX data path optimizations
BZ 826596 partial fix - guest checksumming
    synchronized with RX checksumming.
BZ 876061 -  windows 2003 can not generate dump file when hitting BSOD
BZ 876504 - [whql][wlk][block] viostor driver for win2k3 does not support s4

Date    19 Nov 2012
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm65

Fixed bugs:

BZ 873971:  vioserial] Fixed EvtDeviceD0ExitPreInterruptsDisabled return value.


Date    15 Nov 2012
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm64

Fixed bugs:

BZ 873128:  Job of Ethernet - NDISTest6.0 - 2c_receivepackets failed with WLK for win2k8/win7/win2k8-R2. Miniport must indicate LINK DOWN on reset start, at least when it indicates LINK UP on reset completion

Date    30 Oct 2012
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm63

Fixed bugs:
[vioser] BZ840911 - move VIRTIO_CONSOLE_PORT_OPEN control message to
    VIOSerialEvtDeviceD0ExitPreInterruptsDisabled callback
[viostor] revert FUA patch Bug 837324 - viostor reports support for FUA, but does not implement it.

Date    10 Oct 2012
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm62

Fixed bugs:
Bug 864841 - [virtio-win] device driver for win2008 missed in virtio-win-prewhql-0.1-40 (edit) 


Date    09 Oct 2012
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm61

Fixed bugs:
Bug 837758 - Disable virtio serial driver from device
    manager hit BSOD After send data from host and guest.
Bug 842961 [Job Id 1710]BSOD occurs dueing running
    "WDF Fault injection Logo Testing" job.
Bug 824814 - [virtio-win][viostor]Online enlarging data
    image size does not work.
Bug 855826 - [virtio-win][block]guest BSOD after upgrading
    virtio-win to build 35 with upstream qemu-kvm.

Date    01 Oct 2012
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm60

Fixed bugs:
[NetKVM] BZ #859882 - Fixing performance with current checksum offload settings. If Windows send 
	an IP packet with 0 pachet lenth in offload scenarios - the driver will populate the 
	length field with packet field.


Date    28 Sep 2012
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm59

New features:
Balloon and vioserial Win8 drivers.

Date    23 Sep 2012
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm58

Fixed bugs:
BZ 713130 - event index performance in virtio
    and vhost-net. Event indexes handling fixed (including correct kick logic).
Bug 858687 - virtio_serialport changes the order of the data
    guest->host using 32bit Windows XP guest

New features:
Win8 NetKvm driver.


Date    09 Sep 2012
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm57

Fixed bugs:
BZ #838008 added Port1FunctionNumber directive to the INF file for Win8/2012
BZ #834175 - Enabled support for required RX checksum and IP TX checksum on Win7/2008R2/2008
BZ #841544 and BZ #807967 No IP after several restarts and after S3
BZ #843325 - [virtio-win][balloon]Guest memory can not continue evicting after enable balloon driver
BZ #831570 - [virtio-win][balloon]windows7 guest crash when disable/enable virtIO balloon device during 
             enlarging/evicting memory.
BZ #839143 - [virtio-win][balloon]windows2003 guest balloon size restore the original 
             value after reboot guest.
BZ #803633 - [virtio-win][balloon]balloon does not work after s3 or s4.
BZ #843325 - [virtio-win][balloon]Guest memory can not continue evicting after enable balloon driver.
BZ #837324 - viostor reports support for FUA, but does not implement it.

BZ #806223 - [virtio-win][serial] guest BSOD when doing s3 while virtio-serial in use.
BZ #714908 - [virtio-win][serial] virtio-serial is disfunctiona after S3
BZ #814896 - [virtio-win][serial] virtio-serial does not work after s4 in win7-32/64 bit guests
BZ #823818 - [virtio-win][compatibilty]Guest freeze After terminating the virtserialport receiving 
             side in the host
BZ #819412 - [virtio-win][serial]qemu complains "Unexpected port id 1 for device virtio-serial0.0"
             when hotunplug serial while RHEV-Agent service running in the guest

Date    08 Aug 2012
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm55

Fixed bugs:
BZ #838010 Fixing static code analysis tools
    errors for Balloon.
BZ:834179 - Reverting previos fix and aplying correct
    padding on RX path that is needed due to guest to guest transfer of small
    packets.

Review build system scripts and continue adaptation
    to Windows 8 and build server on Windows 2008R2.

Date    04 Aug 2012
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm54

Fixed bugs:
BZ:826596 PublishIndices feature is set to disabled by default on
    Windows XP and Windows 2003 until further investigation is made on QEMU side
    why it causes performance degradation with legacy PCI interrupts.
Bz:837321 Report guest FLUSH (WCE) feature  
Bug 819457 - windows 2k8r2sp1 guests hang after running over
    10 days in a stressed host

Bug 823818 - [virtio-win][compatibilty]Guest freeze After terminating
    the virtserialport receiving side in the host
Bug 840932 - BSOD in RHEV 3 on Windows 7 guest, Bugcheck code 0x9F

Date    20 July 2012
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm53

Experemental - Win8 support for VirtIO, NetKvm, viostor, and vioscsi progects.


Date    3 July 2012
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm52

Fixed bugs:

Bug 800752 - Fixing syncronyzation between DPC and Read.

Date    13 June 2012
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm51

Fixed bugs:

Bug 828275 - Implement and test control queue in virtio-simulator environment.
Bug 828275 - Initial implementation of RX filtering using QEMU

Bug 768795 - BSOD when excercising Balloon Driver
Bug 816452 - Uninstall balloon driver from Device Manager leads to BSOD after changing balloon 
             value in monitor.
Bug 803633 - balloon does not work after s3 or s4
Bug 799864 - user cannot distinguish the difference between viostor and vioscsi because of listing 
             the two drivers together at the same time in Device Manager

Date    21 May 2012
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm50

Fixed bugs:

Bug 815295 - [NetKvm] Adding ability to handle DPC rx throttling from OS. With this fix glitch 
free test for Windows 7 will pass

Date    21 April 2012
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm49

Fixed bugs:
Bug 808654 - [NetKvm] Fix the start of checksum calculation in case on vlan\priority tags usage


Date    14 April 2012
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm48

Fixed bugs:
Bug 811161 - [virtio-win][viostor]Guest BSOD during S3 with virtio disk.
Bug 803950 - [virtio-win][balloon] Guest BOSD when evict memory and suspend(s4) guest at the same time.

Date    08 April 2012
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm47

Fixed bugs:
Bug 810694 - viostor fails with DRIVER_IRQL_NOT_LESS_OR_EQUAL BOSD under heavy random write load 
Bug 806223 - [virtio-win][serial] guest BOSD when doing s3 while virtio-serial in use
Bug 803950 - [virtio-win][balloon] Guest BOSD when evict memory and suspend(s4) guest at the same time
Bug 803633 - balloon does not work after s3
Bug 750773 - qemu-kvm hang while booting a win7 32 bit VM with the qxl and virtio-serial drivers installed 


Date    18 March 2012
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm46

Fixed bugs:
Bug 799248 - [netkvm]Add a space between "RedHat" in netkvm,sys Product name
Bug 713643 - backport checksum optimization for virtio_net
Bug 770499 - Press 'i' cause vioser-test stop working
Bug 799264 - WHQL][Block]BSOD happened in job "CHOAS-Concurrent Hardware And OS Test"
Bug 799190 - [WHQL][Block]Job "Sleep Stress with IO" and Common Scenario Stress with IO" 
             stopped with prompt error on win2k8-R2/win2k8/win7.
Bug 799182 - [WHQL][Block]Job of "Sleep Stress with IO" and Common Scenario Stress with IO" 
             always failed on winxp/win2k3 for invalid block address.


Date    20 February 2012
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm45

Fixed bugs:
Bug 790305 - [virtio-scsi] BSOD occurs when install virtio scsi driver in windows guest

New features:
Unified virtio library.

Date    13 February 2012
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm44

Fixed bugs:
Bug 771390 - Win 7 (32-bit) guest "quitting" with latest VirtIO block drivers - virtio: 
             trying to map MMIO memory - PART 2 - fix this problem for scsiport part (WXP).

New features:
virtio scsi passthrough device driver.          

Date    23 January 2012
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm43

Fixed bugs:
Bug 752743 - Windows guest stopped with EIO when trying to initialize readonly disk.
Bug 771390 - Win 7 (32-bit) guest "quitting" with latest VirtIO block drivers - virtio: trying to map MMIO memory
Bug 768981 - guest BSOD when boot a win7-64 guest with 232 virtio disks(enable multifunction=on)

Date    14 December 2011
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm42

Fixed bugs:
Bug 713130 - event index support in virtio and vhost-net
Bug 713643 - backport checksum optimization for virtio_net
Bug 753723 - Backport serial number support for virtio-blk devices
Bug 714908 - virtio-serial is disfunctional after S3

Date    24 November 2011
repo    git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag     mm41

Fixed bugs:
BZ744729 - Fixing copyright and file description strings in version info
BZ744730 Fix language in version info to neutral

New features:
[NetKVM]
Build Win7 target (needed for NDIS6.2 support)
Enable to set external SDK path
Implement event index support in virtio library and NetKVM driver
RX IP checksum offload


Date	21 September 2011
repo	git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag	mm40

[NetKVM] Change PM capabilities to report NdisDeviceStateUnspecified for different wake up capabilities

Date	12 September 2011
repo	git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag	mm39

discard read request watchdog timer and return to original read requests handling.

Date	10 August 2011
repo	git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag	mm38

Bug 727034 [WHQL][viostor]winxpsp3 32 bit guest exited with "virtio: trying to map MMIO memory" error

Date	25 July 2011
repo	git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag	mm37

Fixed bugs:
Bug 721355 - unable to shut down win guest gracefully 


Date	16 July 2011
repo	git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag	mm36

Fixed bugs:
Bug 720540 - [WHQL][viostor] Failed to install viostor dirver on Windows XP 
and Windows 2k3 32/64 bits (edit)  

New features:
- [NetKvm] Number of handled RX packets handled during DPC are
configured through INF file and advanced tab in device
manager.
- rhel6.2 version numbering.



Date	09 July 2011
repo	git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag	mm35

Fixed bugs: 
Bug 702258 - Virtio-Serial issue with IC116 windows Guest tools - vm stuck on reboot 
Bug 677219 - [RFE] Include support for online resizing of storage and network block devices 
Bug 689366 - (virtio serial) Guest aborted when transferring data from guest to host

Date	04 April 2011
repo	git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag	mm34

Workaround for:
Bug 693041 - [WHQL] Virtio block job of "Sleep Stress With IO" 
for win2k8-32 fails with BSOD on build of virtio-win-prewhql-0.1-9 

Date	30 March 2011
repo	git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag	mm33

Fixed bugs:
Turn MSISupported flag off. Workaround for #669597 & #691192  
Bug 691192 - RHEV-Block: Workaround for bug #669597 - (virtio-win) BSOD when upgrade virtio 
block driver from version of 1.1.16 to 1.1.17 
 
Bug 669597 - (virtio-win-1.1.17) Upgrade fails with BSOD when upgrade virtio block driver from 
version of 1.1.16 to 1.1.17 on windows 

New features:
New version numbering scheme.

Date	25 March 2011
repo	git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag	mm32

Fixed bugs:
Bug 690713 - [WHQL] Virtio block job "Embedded Signature Verification" fails on virtio-win-prewhql-0.1-7

New features:
NetKvmConfig documentation.

Date	21 March 2011
repo	git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag	mm31

Fixed bugs:
Bug 688839 - Failed to boot windows guest with 30 virtio serial ports (Got BSOD 0XD1)

Date	13 March 2011
repo	git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag	mm30

Fixed bugs:
Bug 670713 - (virtio-win-1.1.17)Virtio serial driver always causes windows BSOD when install or run whql jobs.

Date	24 February 2011
repo	git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag	mm29

New features:
NetKvm CoInstaller

Fixed bugs:
Bug 630830 - Nic stops receiving under netperf test. 


Date	21 February 2011
repo	git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag	mm28

Fixed bugs:
 
Bug 670713 - (virtio-win-1.1.17)Virtio serial driver always causes windows BSOD when install or run whql jobs.

Date	14 February 2011
repo	git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag	mm27

Fixed bugs:
 
Bug 669597 - (virtio-win-1.1.17)Upgrade fails with BSOD when upgrade virtio block driver 
             from version of 1.1.16 to 1.1.17 on windows 
Bug 616685 - balloon:window guest can not keep memory change after guest restart 
Bug 621834 - Poor write I/O performance of virtio-win driver 

Date	20 January 2011
repo	git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag	mm26

Fixed bugs:
 
Bug 669276 - [WHQL]Windows fails to do S4/S3 with virtio-win-1.1.17
Bug 669633 - [WHQL]Job of "DPWDK-HotReplace-Device Test-Verify driver support for D3 power state" 
             fails with getting BSOD 
Bug 669314 - (virtio-win-1.1.17) Can not generate crash dump file after BSOD of Windows guests
Bug 669316 - [WHQL] BSOD occurs when running "CHAOS-Concurrent Hardware And OS test"  


Date	7 January 2011
repo	git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag	mm25

Fixed bugs:
 
Bug 617000 - feature request: virtio-serial windows driver has a write size limitation that should be lifted
Bug 625036 - For virtio-blk driver MSISupported should be turned on by default on VISTA and higher,
Bug 637713 - fail to attach virtio serial port to guest when use same nr for different virtio serial pci

New features:
Indirect buffers support for viostor driver.


Date	20 September 2010
repo	git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag	mm24

Fixed bugs:
Bug 634536 - BSOD after hot-unplug a virtio-serial port.
Bug 635506   [WHQL] Win2k8-32 quest always got BSOD (0x93) buring balloon testing.


Date	16 September 2010
repo	git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag	mm23

Fixed bugs:
Bug 610787 - [balloon] evict windows guest free memory does not work.

Date	09 September 2010
repo	git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag	mm22

Fixed bugs:
Bug 626333 - [WHQL] Win2k8-R2 got BSOD during virtio-serial run sleep stress with IO and common
scenario stress with IO (finale fix. vioserial will be able to pass WHQL test while running with
child devices (ports)).
Bug 630536 - Crash when running on Windows XP SMP


Date	30 August 2010
repo	git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag	mm21

Fixed bugs:
Bug 610787 - balloon evict windows guest free memory does not work
Bug 626333 - [WHQL] Win2k8-R2 got BSOD during virtio-serial run sleep stress with IO and common
scenario stress with IO (partial fix. vioserial should be able to pass WHQL test while running w/o
child devices (ports)).


Date	17 August 2010
repo	git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag	mm20

Fixed bugs:
Bug 603015 - fix for WHQL LSO test problem on MSI mashine
Bug 613949 - [WHQL] Win2k8-R2 guest got BSOD when running virtio-serial Plug and Play Driver Test
Bug 614722 - [WHQL] Win2k8-R2 got BSOD during virtio-serial run simpleIOStress test (Error code 0x1E)

New features:
None

Date	10 August 2010
repo	git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag	mm19
Fixed bugs:
Bug 616398 - virtio-serial installation problems


Date	02 August 2010
repo	git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag	mm18

Fixed bugs:
615205  BSOD happens when doing hibernation for windows guest with virtio blk

New features:
None

Date	28 July 2010
repo	git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag	mm17

Fixed bugs:
616814  vioserial driver fails to recognize HostConnected with spicevmc

New features:
Reverting published indexes

Date	13 July 2010
repo	git://git.engineering.redhat.com/users/vrozenfe/internal-kvm-guest-drivers-windows/.git
tag	mm16

Fixed bugs:
607555  winxp with virtio block BSOD at the first reboot of installation
607557  Failed to install windows guests using virtio-win-1.1.5-0.vfd
609831  Windows 7 guest installed in RHEL5 BSODs on shutdown when booted in RHEL6
609838  XP installed under RHEL55 has missing sys files on 2nd reboot under RHEL6

New features:
None
